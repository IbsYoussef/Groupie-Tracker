{{define "artist-card"}}
{{range .Artists}}
<div class="artist-card group"
     data-id="{{.ID}}"
     data-popularity="{{.Popularity}}"
     data-genres="{{range $i, $g := .Genres}}{{if $i}},{{end}}{{$g}}{{end}}">

  <!-- Artist Image (Square, object-fit: cover) -->
  <div class="artist-card-img-container">
    {{if .Image}}
    <img src="{{.Image}}" alt="{{.Name}}" class="artist-card-img">
    {{else}}
    <div class="artist-card-img-placeholder">No Image</div>
    {{end}}
    <div class="artist-card-img-overlay"></div>
  </div>

  <!-- Artist Name -->
  <h3 class="artist-card-name">{{.Name}}</h3>

  <!-- Genres (max 2) -->
  {{if .Genres}}
  <div class="artist-card-genres">
    {{range $i, $genre := .Genres}}
    {{if lt $i 2}}
    <span class="artist-card-genre">{{$genre}}</span>
    {{end}}
    {{end}}
  </div>
  {{else}}
  <div class="artist-card-genres">
    <span class="artist-card-genre empty">No genres</span>
  </div>
  {{end}}

  <!-- Top Tracks Section (Always show label) -->
  <div class="artist-card-tracks">
    <div class="track-header">Top Tracks:</div>
    {{if .PopularAlbums}}
    {{range $i, $album := .PopularAlbums}}
    {{if lt $i 3}}
    <div class="track-item">
      <span class="track-name">{{$album.Name}}</span>
      {{if $album.ReleaseDate}}
      <span class="track-duration">{{$album.ReleaseDate}}</span>
      {{end}}
    </div>
    {{end}}
    {{end}}
    {{else}}
    <div class="track-item empty">No tracks available</div>
    {{end}}
  </div>

  <!-- View Profile Button (no link for now) -->
  <button class="artist-card-btn" disabled>
    View Profile
  </button>
</div>
{{end}}
{{end}}